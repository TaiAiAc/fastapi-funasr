[project]
name = "web-service"
version = "0.1.0"
description = "A simple web service"
authors = [
    { name = "Quiteer", email = "p602985@yeah.net" },
]
dependencies = [
    "fastapi>=0.119.0",
    "uvicorn[standard]>=0.37.0",
    "python-multipart",
    "python-dotenv>=0.9.9",  # 注意：包名是 python-dotenv，不是 dotenv！
    "modelscope>=1.10.0",
    "numpy>=1.21.0,<2.0",  # 👈 关键！禁止 NumPy 2.x
    "torch==2.1.0",
    "torchaudio==2.1.0",
    "funasr>=1.2.7,<1.4.0",  # 👈 暂时锁定版本（见第二步）
    "soundfile>=0.13.1",
]
requires-python = ">=3.10"
readme = "README.md"
license = { text = "MIT" }  # 可选，但推荐

[build-system]
requires = ["pdm-backend"]
build-backend = "pdm.backend"

[tool.pdm]
# 启用 PEP 582（本地包管理）
[[tool.pdm.source]]
name = "tsinghua"
url = "https://pypi.tuna.tsinghua.edu.cn/simple"
verify_ssl = true